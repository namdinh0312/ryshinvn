"use strict";function LoadSwiperDefault(){if(galleryTop=new Swiper(".gallery-top",{spaceBetween:20,preloadImages:!1,lazy:!0,pagination:".swiper-pagination",paginationType:"fraction",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),galleryThumbs=new Swiper(".gallery-thumbs",{spaceBetween:5,centeredSlides:!0,slidesPerView:"auto",touchRatio:.2,slideToClickedSlide:!0}),galleryThumbs instanceof Array)for(var e=0;e<galleryThumbs.length;e++)galleryThumbs[e].imagesToLoad.length>0&&(galleryTop[e].controller.control=galleryThumbs,galleryThumbs[e].controller.control=galleryTop);else galleryTop.controller.control=galleryThumbs,galleryThumbs.controller.control=galleryTop;var t=document.querySelector("._p-show-photowipe");t.addEventListener("click",function(e){var t=galleryTop.activeIndex;_LoadImageSwipe(e.target.dataset.selector,t)})}function _LoadImageSwipe(e,t){var o,r=document.querySelectorAll(".pswp")[0],l=document.querySelector(e),a=[],i=document.querySelectorAll(e+" .swiper-slide .hide"),n=document.querySelectorAll(e+" .swiper-slide ._p-slide-image"),s=document.querySelector(e+" .swiper-slide-active");s||console.warn("ko có thumb dùng top gallery");for(var c=0;c<i.length;c++)o={src:n[c].src||n[c].dataset.src,w:n[c].width,h:n[c].height,author:l.dataset.author},o.msrc=s.getAttribute("src"),o.el=s,o.title=l.dataset.seo,o.m={src:n[c].src||n[c].dataset.src,w:n[c].width,h:n[c].height,author:l.dataset.author},o.o={src:i[c].src||i[c].dataset.src,w:i[c].width,h:i[c].height,author:l.dataset.author},a.push(o);var d,u,h={index:t,history:!1,focus:!1,hideAnimationDuration:0,getThumbBoundsFn:function(e){var t=a[e].el.children[0],o=window.pageYOffset||document.documentElement.scrollTop,r=t.getBoundingClientRect();return{x:r.left,y:r.top+o,w:r.width}},galleryUID:e},g=new PhotoSwipe(r,PhotoSwipeUI_Default,a,h),w=!1,p=!0;g.listen("beforeResize",function(){var e=window.devicePixelRatio?window.devicePixelRatio:1;e=Math.min(e,2.5),d=g.viewportSize.x*e,d>=1200||!g.likelyTouchDevice&&d>800||screen.width>1200?w||(w=!0,u=!0,console.log(screen.width+"use largeImage")):w&&(w=!1,u=!0,console.log(screen.width+"not use largeImage")),u&&!p&&g.invalidateCurrItems(),p&&(p=!1),u=!1}),g.listen("gettingData",function(e,t){w?(t.src=t.o.src,t.w=t.o.w,t.h=t.o.h):(t.src=t.m.src,t.w=t.m.w,t.h=t.m.h)}),g.init()}var galleryThumbs,galleryTop;document.addEventListener("DOMContentLoaded",function(e){LoadSwiperDefault()});