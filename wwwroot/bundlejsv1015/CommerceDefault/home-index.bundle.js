"use strict";var fileUploadNewReview,imputDocumentFile,btnLazyLoadProducts,imageCaptcha;function initContactForm(){(imageCaptcha=document.querySelector("[data-captcha-container] ._image-wrap"))&&imageCaptcha.addEventListener("click",function(e){reloadImage()})}function innitFileUpload(){var e=(imputDocumentFile=document.getElementById("inputDetailFromFile")).dataset.curentPathFiles&&""!==imputDocumentFile.dataset.curentPathFiles?[imputDocumentFile.dataset.curentPathFiles]:null,t=imputDocumentFile.dataset.curentShowingImages&&""!==imputDocumentFile.dataset.curentShowingImages?[imputDocumentFile.dataset.curentShowingImages]:null,a=imputDocumentFile.dataset.maxFile&&""!==imputDocumentFile.dataset.maxFile?+imputDocumentFile.dataset.maxFile:3,n=imputDocumentFile.dataset.maxFile&&""!==imputDocumentFile.dataset.maxSize?+imputDocumentFile.dataset.maxSize:5;(fileUploadNewReview=new FileUpload).Init(null,e,t,"#inputDetailFromFile","#newReviewContainer","#newReviewContainer","#frmContact",a,console.log("change"),!0,"DetailFormFile",n)}function clearform(){$("#frmContact")[0].reset();var e=document.getElementById("newReviewContainer");e&&(e.innerHTML="")}function reloadImage(){var e=new Date;$("#img-captcha").attr("src","/get-captcha-image?"+e.getTime())}function initMap(){var e=document.getElementById("mapContainer");if(e){var t={lat:+e.dataset.lat,lng:+e.dataset.lng},a=new google.maps.Map(document.getElementById("mapContainer"),{center:t,zoom:15,disableDefaultUI:!0});new google.maps.Marker({map:a,position:t,title:e.dataset.title})}}function loadSuggestProducts(){var e=LocalStorageHelper.Get(LocalStorageNamesEnum.UserCategoryList).sort(function(e,t){return 5*e.InOrderCount+3*e.CompleteCount+2*e.AddToCartCount+e.ViewCount>5*t.InOrderCount+3*t.CompleteCount+2*t.AddToCartCount+t.ViewCount?1:-1});e.length=Math.min(3,e.length);for(var t=document.querySelector("#formLazySuggestProduct #inputContainer"),a="",n=0;n<e.length;n++){a+='<input class="hide" type="text" name="CategoryLogModels['+n+'].CategoryId" value="'+e[n].CategoryId+'">'+('<input class="hide" type="number" name="CategoryLogModels['+n+'].ViewCount" value="'+e[n].ViewCount+'">')+('<input class="hide" type="number" name="CategoryLogModels['+n+'].AddToCartCount" value="'+e[n].AddToCartCount+'">')+('<input class="hide" type="number" name="CategoryLogModels['+n+'].InOrderCount" value="'+e[n].InOrderCount+'">')+('<input class="hide" type="number" name="CategoryLogModels['+n+'].CompleteCount" value="'+e[n].CompleteCount+'">')}t.innerHTML=a,document.getElementById("btnReloadSuggestProduct").click()}function loadUserViewedProduct(){var e=LocalStorageHelper.Get(LocalStorageNamesEnum.ViewProductClassificationIds);if(e&&e.length){for(var t=document.querySelector("#productViewedContainer"),a=0;a<e.length;a++){var n=e[a],o='<a href="[ProductUrl]" title="[ProductName]" class="_image-wrap tablet-margin -tablet-margin-bottom rounded-4 border-1 solid border-silver padding-5"> <img alt="[ProductName]" class="b-lazy" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="[ProductThumnailUrl]"></a>';o=(o=(o=o.replace(/\[ProductUrl\]/g,n.ProductUrl)).replace(/\[ProductName\]/g,n.ProductName)).replace(/\[ProductThumnailUrl\]/g,n.ProductThumnailUrl),n=Site.HtmlToElement(o),t.appendChild(n[0])}Site.BeLazyRevalidate()}}function init(){btnLazyLoadProducts=document.querySelectorAll("form[data-selector-lazyload-products] [type='submit']")}function lazyloadCategoriesProduct(){for(var e=0;e<btnLazyLoadProducts.length;e++)btnLazyLoadProducts[e].click()}function loadFlashSaleSwiper(){Site.bLazy.load(document.querySelectorAll(".swiper-flashsale-container img",!0),!1);var e=document.querySelector("[data-device=Mobile]"),t=document.querySelector("[data-device=Desktop]"),a=5;e?a=2:t||(a=4);new Swiper(".swiper-flashsale-container",{slidesPerView:a,spaceBetween:-1,slidesPerGroup:a,loop:!1,loopFillGroupWithBlank:!0,lazy:{loadPrevNext:!0},preloadImages:!1,autoplay:{delay:4e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}function loadSwipper(e){e=e||".swiper-container",e+=" ",console.log(e);new Swiper(e,{autoplay:{delay:4e3,disableOnInteraction:!1},navigation:{nextEl:e+".swiper-button-next",prevEl:e+".swiper-button-prev"}})}function loadSwipperHome(e){new Swiper(e,{pagination:{el:e+" [data-pagination-1]",dynamicBullets:!0},autoplay:{delay:4e3,disableOnInteraction:!1},navigation:{nextEl:e+".swiper-button-next",prevEl:e+".swiper-button-prev"}})}function loadBrandSwipper(e){Site.bLazy.load(document.querySelectorAll("[data-brand-name-container] img",!0),!1);var t=document.querySelector("[data-device=Mobile]"),a=document.querySelector("[data-device=Desktop]"),n=8;t?n=3:a||(n=5);new Swiper(e+" .swiper-container",{slidesPerView:n,slidesPerGroup:n,loop:!0,loopFillGroupWithBlank:!0,spaceBetween:10,navigation:{nextEl:e+" .swiper-button-next-brand",prevEl:e+" .swiper-button-prev-brand"}})}document.addEventListener("DOMContentLoaded",function(){loadUserViewedProduct()}),document.addEventListener("DOMContentLoaded",function(){init(),loadSwipperHome("[data-container-slider] .swiper-container"),loadSwipper("[data-review] .swiper-container"),loadBrandSwipper("[data-brand-name]"),lazyloadCategoriesProduct(),PushNotifications.bindingUi("[data-contact]"),loadSuggestProducts()}),window.onload=function(){submitProductWidgetAction("[data-bestseller]"),submitProductWidgetAction("[data-new-products]")};